// 銀河種族と一靈四魂の関係性マトリックス
// 各組み合わせの相性、相乗効果、課題を定義

export const relationshipMatrix = {
  シリウス: {
    和魂: { 
      compatibility: 0.95,
      synergy: "シリウスの調和と平和を重視する特性と和魂の親愛の機能は完全に一致しており、非常に高い相性を持ちます。無償の愛から行動し、周囲に大きな調和をもたらす力を持ちます。",
      challenge: "「自分たち」と「それ以外」を区別する傾向があり、時に狭い視野での平和を追求することがあります。より広い視野で全ての存在との繋がりを意識することが課題です。",
      growthPath: "集団の中でも自分の真の意見を表明し、表面的な調和ではなく、真の調和を求めることで成長します。内輪びいきや集団思考から脱し、普遍的な愛と調和を体現しましょう。"
    },
    荒魂: { 
      compatibility: 0.6,
      synergy: "シリウスの奉仕の精神と荒魂の行動力が組み合わさると、平和と調和のために積極的に行動する力強いエネルギーが生まれます。",
      challenge: "調和を重視するシリウスの特性と、前進する荒魂の力の間でバランスを取ることが難しいことがあります。時に平和を守るための行動が強引になる可能性があります。",
      growthPath: "行動する前に広い視野で影響を考慮し、穏やかながらも力強く進む方法を見つけることが成長への道です。調和と行動のバランスを意識しましょう。"
    },
    幸魂: { 
      compatibility: 0.85,
      synergy: "シリウスの無償の愛と奉仕の精神は、幸魂の愛と育む力と美しく共鳴します。他者の幸福を願い、支援する強い力を発揮します。",
      challenge: "時に自己犠牲的になりすぎることがあります。奉仕することと自分自身を大切にすることのバランスを見つけることが課題となります。",
      growthPath: "無償の愛を持ちながらも、自分自身も愛し大切にすることを学びましょう。与えることと受け取ることの循環を意識することで成長します。"
    },
    奇魂: { 
      compatibility: 0.75,
      synergy: "シリウスの高い技術力と奇魂の知性が組み合わさると、論理的かつ調和的な問題解決能力が生まれます。全体の利益を考えた賢明な判断ができます。",
      challenge: "感情と論理のバランスを取ることが時に難しく、全体の調和を重視するあまり、真実を見失うことがあります。",
      growthPath: "直感と論理的思考を統合し、真の知恵を育みましょう。全体の調和を意識しつつも、真実を追求する姿勢が成長をもたらします。"
    }
  },
  
  プレアデス: {
    幸魂: { 
      compatibility: 0.95,
      synergy: "プレアデスの深い愛と感受性は幸魂の「愛」の機能と完全に一致しており、非常に高い相性を持ちます。他者の気持ちを深く理解し、育み、癒す力を持ちます。",
      challenge: "愛する対象への執着や依存が生じやすく、時に自分自身を見失うことがあります。愛情を独占しようとする傾向にも注意が必要です。",
      growthPath: "無条件の愛を育み、執着から解放されることが成長への道です。自分自身も愛しながら、相手の自由を尊重できる愛を実践しましょう。"
    },
    荒魂: { 
      compatibility: 0.5,
      synergy: "プレアデスの感受性と荒魂の行動力が組み合わさると、愛に基づいた力強い行動ができます。優しさと強さを兼ね備えたバランスの良いエネルギーが生まれることがあります。",
      challenge: "優しさと強さのバランスを取ることが難しく、時に感情に流されすぎたり、逆に感情を抑え込んで強引になったりすることがあります。",
      growthPath: "愛を行動で表現する方法を学び、感情に振り回されずに力強く前進することが成長への道です。柔軟性と芯の強さを両立させましょう。"
    },
    奇魂: { 
      compatibility: 0.7,
      synergy: "プレアデスの直感力と奇魂の分析力が組み合わさると、感情と知性のバランスの取れた深い洞察力が生まれます。",
      challenge: "感情と理性のバランスを取ることが時に難しく、どちらかに偏りがちになることがあります。",
      growthPath: "感情を大切にしながらも、客観的な視点を持つことで成長します。感情的な洞察と論理的な分析を統合する努力を続けましょう。"
    },
    和魂: { 
      compatibility: 0.8,
      synergy: "プレアデスの愛と調和を重んじる特性は、和魂の親愛の機能と美しく共鳴します。深い絆と穏やかな調和を創造する力を持ちます。",
      challenge: "表面的な平和を保つために本音を言わないことがあり、時に自分の真の感情を抑え込むことがあります。",
      growthPath: "真の調和は、本音を正直に表現できる関係性から生まれることを理解しましょう。愛を基盤にした誠実なコミュニケーションが成長をもたらします。"
    }
  },
  
  リラ: {
    荒魂: { 
      compatibility: 0.95,
      synergy: "リラの開拓精神と前進する力は荒魂の「勇」の機能と完全に一致しており、非常に高い相性を持ちます。強い行動力と困難に立ち向かう勇気を発揮します。",
      challenge: "時に強引になりすぎたり、他者の意見を聞かずに突き進んだりする傾向があります。権力や支配への傾倒にも注意が必要です。",
      growthPath: "力強さを保ちながらも柔軟性と受容性を育むことで成長します。「Doing（行動）」と「Being（存在）」のバランスを意識しましょう。"
    },
    幸魂: { 
      compatibility: 0.65,
      synergy: "リラの行動力と幸魂の愛が組み合わさると、愛に基づいた創造的なエネルギーが生まれます。情熱を持って人を育み、新しい可能性を開く力があります。",
      challenge: "行動と感情のバランスを取ることが難しく、時に感情を無視して突き進んだり、逆に感情に流されすぎて方向性を見失ったりすることがあります。",
      growthPath: "行動する際に愛と思いやりを忘れず、感情的な知性を育むことが成長への道です。力強さの中に優しさを統合していきましょう。"
    },
    奇魂: { 
      compatibility: 0.7,
      synergy: "リラの目標達成能力と奇魂の分析力が組み合わさると、戦略的で効果的な行動が可能になります。知性と行動力のバランスの取れたアプローチができます。",
      challenge: "行動と思考のバランスを取ることが時に難しく、考えすぎて行動できなくなったり、逆に十分な分析なしに突き進んだりすることがあります。",
      growthPath: "行動の前に十分な分析と計画を行い、同時に分析麻痺に陥らないよう意識することで成長します。知恵と勇気を統合しましょう。"
    },
    和魂: { 
      compatibility: 0.6,
      synergy: "リラの行動力と和魂の調和を重んじる特性が組み合わさると、集団全体の利益のために積極的に行動する力が生まれます。",
      challenge: "個人の意思の強さと集団の調和のバランスを取ることが難しく、時に集団の意見を無視して突き進んだり、逆に自分の本音を言えなくなったりすることがあります。",
      growthPath: "自分の意見を尊重しながらも、他者との調和を大切にする方法を学ぶことで成長します。強さと柔軟性のバランスを意識しましょう。"
    }
  },
  
  ゼータレティクル: {
    奇魂: { 
      compatibility: 0.95,
      synergy: "ゼータレティクルの論理的思考と分析力は奇魂の「智」の機能と完全に一致しており、非常に高い相性を持ちます。複雑な問題を解決し、本質を見抜く鋭い洞察力を発揮します。",
      challenge: "感情を排除し理性だけに頼りすぎる傾向があり、時に他者との共感や理解が難しくなることがあります。完璧主義に陥りやすい面もあります。",
      growthPath: "知性を保ちながらも感情的な知性を育むことで成長します。全てを理解しようとするのではなく、時に神秘を受け入れる柔軟性も大切です。"
    },
    荒魂: { 
      compatibility: 0.7,
      synergy: "ゼータレティクルの分析力と荒魂の行動力が組み合わさると、理論に裏打ちされた効果的な行動が可能になります。",
      challenge: "思考と行動のバランスを取ることが時に難しく、考えすぎて行動に移せなかったり、逆に十分な分析なしに行動したりすることがあります。",
      growthPath: "分析と行動のサイクルを意識し、適切なタイミングで切り替える能力を育むことが成長への道です。知恵と勇気のバランスを大切にしましょう。"
    },
    幸魂: { 
      compatibility: 0.6,
      synergy: "ゼータレティクルの分析力と幸魂の感受性が組み合わさると、感情を理解し適切に対応する能力が高まります。",
      challenge: "論理と感情の統合が難しく、時に感情を理解できても適切に表現できなかったり、逆に感情に流されすぎて論理性を失ったりすることがあります。",
      growthPath: "感情を論理的に理解するだけでなく、感情そのものを体験し表現することを学ぶことで成長します。頭と心の統合を目指しましょう。"
    },
    和魂: { 
      compatibility: 0.65,
      synergy: "ゼータレティクルの客観性と和魂の調和を重んじる特性が組み合わさると、全体の利益を論理的に分析し最適な解決策を見つける能力が高まります。",
      challenge: "個人の論理的正しさと集団の調和のバランスを取ることが難しく、時に冷たく批判的になったり、逆に集団の意見に流されたりすることがあります。",
      growthPath: "論理的思考を保ちながらも、人間関係の機微や感情の重要性を理解することで成長します。知性と共感のバランスを意識しましょう。"
    }
  },
  
  オリオン: {
    複合的: { 
      compatibility: 0.9,
      synergy: "オリオンの統合的な特性は多様な魂の側面と調和しやすく、特に荒魂と和魂のバランスを体現します。対立するエネルギーを統合し、変容と成長を促進する力があります。",
      challenge: "過去のトラウマや葛藤のパターンに囚われやすく、コントロールへの執着や極端な正義感に陥ることがあります。",
      growthPath: "コントロールへの執着を手放し、宇宙の流れに委ねる信頼を育むことが成長への道です。内なる闇と光の両面を等しく受け入れ、二元的な思考を超えていきましょう。"
    },
    荒魂: { 
      compatibility: 0.8,
      synergy: "オリオンの変容力と荒魂の勇気が組み合わさると、困難を乗り越え大きな変化を起こす力が生まれます。",
      challenge: "変化の過程で力の使い方を誤ると、破壊的になったり支配的になったりする傾向があります。",
      growthPath: "力を建設的に使い、自他の変容を促すことで成長します。勇気を持って行動しつつも、コントロールへの執着を手放すことが大切です。"
    },
    幸魂: { 
      compatibility: 0.75,
      synergy: "オリオンの変容能力と幸魂の愛が組み合わさると、深い癒しと変容をもたらす力が生まれます。",
      challenge: "愛と変容のプロセスで執着や依存が生じることがあり、時に自分や他者を傷つけることがあります。",
      growthPath: "無条件の愛を育みながら、執着から解放されることで成長します。愛を持って変容を促し、同時に相手の自由を尊重することが大切です。"
    },
    奇魂: { 
      compatibility: 0.7,
      synergy: "オリオンの多次元的な視点と奇魂の分析力が組み合わさると、複雑な状況を様々な角度から理解し、創造的な解決策を見出す力が生まれます。",
      challenge: "多くの視点を持つことで混乱したり、分析しすぎて行動できなくなったりすることがあります。",
      growthPath: "多様な視点を統合し、実用的な知恵に変換する能力を育むことで成長します。理論と実践のバランスを大切にしましょう。"
    }
  },
  
  アンドロメダ: {
    複合的: { 
      compatibility: 0.9,
      synergy: "アンドロメダの創造的で多次元的な特性は様々な魂の側面と調和しやすく、特に幸魂と奇魂のバランスを体現します。創造性、癒し、無条件の愛を発揮する力があります。",
      challenge: "理想と現実のギャップに苦しむことがあり、時に現実世界から逃避したり、自分の理想や信念に囚われたりすることがあります。",
      growthPath: "創造的なビジョンを現実世界で形にする努力を続けることが成長への道です。理想を保ちながらも、地に足をつけて行動することが大切です。"
    },
    幸魂: { 
      compatibility: 0.85,
      synergy: "アンドロメダの癒しの力と幸魂の愛が組み合わさると、深い癒しと無条件の愛を実現する力が生まれます。",
      challenge: "現実の苦しみから逃避したり、愛に執着したりすることがあります。",
      growthPath: "愛と癒しのエネルギーを現実世界で具体的に表現することで成長します。理想的な愛を日常の中で実践することが大切です。"
    },
    奇魂: { 
      compatibility: 0.8,
      synergy: "アンドロメダの多次元的な視点と奇魂の知性が組み合わさると、高次の真理を理解し伝える能力が高まります。",
      challenge: "高次の真理に囚われて現実との接点を失ったり、知的な概念に固執したりすることがあります。",
      growthPath: "高次の知恵を日常生活に適用し、実践的な形で表現することで成長します。知恵と実用性のバランスを大切にしましょう。"
    },
    荒魂: { 
      compatibility: 0.65,
      synergy: "アンドロメダの創造性と荒魂の行動力が組み合わさると、ビジョンを現実化する強い力が生まれます。",
      challenge: "理想と行動のバランスを取ることが難しく、時に現実的な制約を無視して突き進んだり、逆に行動に移せなかったりすることがあります。",
      growthPath: "創造的なビジョンと現実的な行動計画を統合することで成長します。夢を持ちながらも、それを実現するための具体的なステップを踏むことが大切です。"
    }
  }
};

// 二次的な関係性パターンの分析
export const analyzeComplementaryPattern = (primaryGalaxy, primarySoul, secondaryGalaxy, secondarySoul) => {
  // 主要タイプと副次的タイプの関係性を分析
  const primaryRelationship = relationshipMatrix[primaryGalaxy][primarySoul];
  
  let result = {
    description: "",
    balance: "",
    integration: ""
  };
  
  // 銀河種族の相補性分析
  if (primaryGalaxy === "リラ" && secondaryGalaxy === "プレアデス") {
    result.description += "行動力（リラ）と愛（プレアデス）のバランスが取れています。";
    result.balance += "外向的エネルギーと内向的エネルギーのバランスを意識しましょう。";
    result.integration += "行動の基盤に愛と思いやりを置くことで、より調和のとれた創造が可能になります。";
  } 
  else if (primaryGalaxy === "シリウス" && secondaryGalaxy === "ゼータレティクル") {
    result.description += "調和（シリウス）と分析（ゼータレティクル）のバランスが取れています。";
    result.balance += "感情的な調和と論理的な分析のバランスを意識しましょう。";
    result.integration += "調和を保ちながらも真実を追求することで、より深い知恵へと導かれるでしょう。";
  }
  else if (primaryGalaxy === "オリオン" && (secondaryGalaxy === "リラ" || secondaryGalaxy === "シリウス")) {
    result.description += "変容（オリオン）と行動/調和（リラ/シリウス）のバランスが取れています。";
    result.balance += "内なる変容と外への表現のバランスを意識しましょう。";
    result.integration += "内なる葛藤を統合し、それを建設的な行動や調和の創造に活かしていくことができます。";
  }
  // 他の組み合わせも同様に分析...
  
  // 一靈四魂の相補性分析
  if (primarySoul === "荒魂" && secondarySoul === "幸魂") {
    result.description += "勇気（荒魂）と愛（幸魂）のバランスが取れています。";
    result.balance += "力強さと優しさのバランスを意識しましょう。";
    result.integration += "勇気ある行動の基盤に愛と思いやりを置くことで、より調和のとれた創造が可能になります。";
  }
  else if (primarySoul === "奇魂" && secondarySoul === "和魂") {
    result.description += "知恵（奇魂）と調和（和魂）のバランスが取れています。";
    result.balance += "個人の知性と集団の調和のバランスを意識しましょう。";
    result.integration += "知恵を用いて全体の調和に貢献することで、より深い統合が実現するでしょう。";
  }
  // 他の組み合わせも同様に分析...
  
  // デフォルトの分析（特定の組み合わせがない場合）
  if (result.description === "") {
    result.description = `${primaryGalaxy}と${primarySoul}の特性が主導的で、${secondaryGalaxy}と${secondarySoul}の特性が補完的です。`;
    result.balance = "主要な特性と補完的な特性のバランスを意識しましょう。";
    result.integration = "多様な側面を統合することで、より全体的な魂の表現が可能になります。";
  }
  
  return result;
};

// 成長の方向性を決定する関数
export const determineGrowthDirection = (results) => {
  const { dominantGalaxyType, dominantSoulType, directSpiritPercentage } = results;
  
  // 直靈度に基づく成長の方向性
  let growthDirection = "";
  
  if (directSpiritPercentage >= 80) {
    growthDirection = "あなたはすでに高い直靈度を持っています。次のステップは、あなたの特性をより深く統合し、周囲に良い影響を与えることです。";
  } 
  else if (directSpiritPercentage >= 60) {
    growthDirection = "あなたは良好な直靈度を持っていますが、さらに高めることができます。自分の強みを認識し、弱点に意識的に取り組むことで成長できるでしょう。";
  }
  else {
    growthDirection = "あなたは曲靈の状態にやや傾いています。本来の魂の輝きを取り戻すためには、自己認識を深め、直靈に近づくための実践が必要です。";
  }
  
  // 銀河種族と一靈四魂タイプに基づく具体的な成長方向
  if (relationshipMatrix[dominantGalaxyType] && relationshipMatrix[dominantGalaxyType][dominantSoulType]) {
    growthDirection += " " + relationshipMatrix[dominantGalaxyType][dominantSoulType].growthPath;
  }
  
  return growthDirection;
};

// 直靈への道筋を提案する関数
export const suggestPathToDirectSpirit = (results) => {
  const { dominantGalaxyType, dominantSoulType, directSpiritPercentage } = results;
  
  let pathSuggestions = [];
  
  // 基本的な実践
  pathSuggestions.push("日々の自己観察を通して、直靈と曲靈の状態を認識する練習をしましょう。");
  pathSuggestions.push("定期的な瞑想や静かな時間を持ち、内なる声に耳を傾けることが助けになります。");
  pathSuggestions.push("自然の中で過ごす時間を意識的に作り、宇宙との繋がりを感じましょう。");
  
  // 直靈度に基づく提案
  if (directSpiritPercentage < 60) {
    pathSuggestions.push("曲靈の傾向に気づいたら、まずそれを判断せずに観察し、受け入れましょう。");
    pathSuggestions.push("毎日、自分の強みや感謝できることに意識を向ける習慣をつけましょう。");
  }
  
  // 銀河種族に基づく提案
  switch (dominantGalaxyType) {
    case "リラ":
      pathSuggestions.push("行動の前に一度立ち止まり、その行動の影響を考える習慣をつけましょう。");
      pathSuggestions.push("「Doing（行動）」だけでなく「Being（存在）」の状態も大切にし、時には何もせずにただ存在することも実践してみましょう。");
      break;
    case "プレアデス":
      pathSuggestions.push("自分の内なる闇や影の部分も愛情を持って受け入れる練習をしましょう。");
      pathSuggestions.push("愛する人への執着を手放し、無条件の愛を実践する機会を見つけましょう。");
      break;
    case "シリウス":
      pathSuggestions.push("「私たち」と「彼ら」という区別を超えて、より広い視野で全ての存在とのつながりを感じる練習をしましょう。");
      pathSuggestions.push("集団の中でも自分の真の意見を表明する勇気を育み、表面的な調和ではなく真の調和を求めましょう。");
      break;
    case "ゼータレティクル":
      pathSuggestions.push("論理的思考だけでなく、感情や直感にも価値を見出す練習をしましょう。");
      pathSuggestions.push("完璧を求めすぎず、時には「十分に良い」ことを受け入れる柔軟性を育みましょう。");
      break;
    case "オリオン":
      pathSuggestions.push("コントロールへの執着を意識的に手放し、宇宙の流れに委ねる練習をしましょう。");
      pathSuggestions.push("二元的な思考（善悪、正誤など）を超え、より統合的な視点を育む瞑想を行いましょう。");
      break;
    case "アンドロメダ":
      pathSuggestions.push("高い理想を持ちながらも、現実世界での具体的な行動に落とし込む練習をしましょう。");
      pathSuggestions.push("創造的なビジョンを日常生活の中で小さな形で実現していくことから始めましょう。");
      break;
  }
  
  // 一靈四魂タイプに基づく提案
  switch (dominantSoulType) {
    case "荒魂":
      pathSuggestions.push("行動力を保ちながらも、他者の意見に耳を傾け、柔軟性を育む練習をしましょう。");
      pathSuggestions.push("競争よりも協力に焦点を当て、勝ち負けではなく共に成長することを意識しましょう。");
      break;
    case "幸魂":
      pathSuggestions.push("自分自身も愛し大切にすることを実践し、与えることと受け取ることのバランスを意識しましょう。");
      pathSuggestions.push("嫉妬や執着に気づいたら、それを手放し、無条件の愛を選択する練習をしましょう。");
      break;
    case "奇魂":
      pathSuggestions.push("知性だけでなく、感情や身体の知恵にも耳を傾ける統合的なアプローチを実践しましょう。");
      pathSuggestions.push("知識を収集するだけでなく、その知識を実生活で活かし、知恵に変換する機会を見つけましょう。");
      break;
    case "和魂":
      pathSuggestions.push("集団の調和を大切にしながらも、自分の真実の声を表現する勇気を育みましょう。");
      pathSuggestions.push("表面的な平和ではなく、誠実さと真実に基づいた深い調和を創造する実践をしましょう。");
      break;
  }
  
  return pathSuggestions;
};

export default relationshipMatrix;
